# 예외처리(exception handling)

## 프로그램 오류

프로그램이 실행 중 어떤 원인에 의해서 오작동을 하거나 비정상적으로 종료되는 경우가 있다.  
이러한 결과를 초래하는 원인을 프로그램 에러 또는 오류라고 한다.

* 컴파일 에러 : 컴파일 시에 발생하는 에러
* 런타임 에러 : 프로그램의 실행도중에 발생하는 에러
  * 에러(error) : 프로그램 코드에 의해서 수습될 수 없는 심각한 오류
    * OutOfMemoryError, StackOverflowError 등
  * 예외(exception) : 프로그램 코드에 의해서 수습될 수 있는 다소 미약한 오류
* 논리적 에러 : 컴파일도 잘되고 실행도 잘되지만 의도와 다르게 동작하는 에러
  * 창고의 재고가 음수가 된다던가, 게임 프로그램에서 비행기가 죽지 않는 경우

에러가 발생하면 프로그램의 비정상적인 종료를 막을 길이 없지만,  
예외는 발생하더라도 프로그래머가 이에 대한 적절한 코드를 미리 작성해 놓음으로써 프로그램의 비정상적인 종료를 막을 수 있다.

## 예외 클래스의 계층구조

* 자바에서는 실행시 발생할 수 있는 오류(Exception과 Error)를 클래스로 정의하였다.

![8-1](./images/8-1-1.png)

* 모든 예외의 최고 조상은 Excpetion 클래스이며, 상속계층도를 Exception 클래스부터 도식화하면 다음과 같다.

![8-2](./images/8-2.png)

* 위 그림에서 볼 수 있듯이 예외 클래스들은 다음과 같이 두 그룹으로 나눠질 수 있다.

```
1. Exception 클래스와 그 자손들 (그림 8-2의 윗부분, RuntimeException 클래스와 그 자손들 제외)
2. RuntimeException 클래스와 그 자손들 (그림 8-2의 아랫부분)
```

*	Exception 클래스
	* 주로 외부의 영향으로 발생할 수 있는 것들로서, 프로그램의 사용자들의 동작에 의해서 발생하는 경우가 많다.
		* 존재하지 않는 파일의 이름을 입력하는 경우 (FileNotFoundException)
		* 클래스의 이름을 잘못 적은 경우 (ClassNotFoundException)
		* 입력한 데이터 형식이 잘못된 경우 (DataFormatException)
*	RuntimeException 클래스
	* 주로 프로그래머의 실수에 의해서 발생될 수 있는 예외들로 자바의 프로그래밍 요소와 관계가 깊다.
		* 배열의 범위를 벗어나는 경우 (ArrayIndexOutOfBoundsException)
		* 값이 null인 참조변수의 멤버를 호출하는 경우 (NullPointerException)
		* 클래스간의 형변환을 잘못하는 경우 (ClassCastException)
		* 정수를 0으로 나누려고하는 경우(ArithmeticException)

## 예외처리하기 - try-catch문

* 프로그램의 실행도중에 발생하는 에러는 어쩔 수 없지만, 예외는 프로그래머가 이에 대한 처리를 미리 해주어야 한다.

```
예외처리(exception handling)
정의 - 프로그램 실행 시 발생할 수 있는 예외에 대비한 코드를 작성하는 것
목적 - 프로그램의 비정상 종료를 막고, 정상적인 실행상태를 유지하는 것
```

* 발생한 예외를 처리하지 못하면, 프로그램은 비정상적으로 종료되며, 처리되지 못한 예외(uncaught exception)는  
	JVM의 '예외 처리기(UncaughtExceptionHandler)'가 받아서 예외의 원인을 화면에 출력한다.

## try-catch문에서의 흐름

## 예외의 발생과 catch 블럭

## 예외 발생시키기

## 메소드에 예외 선언하기

## finally 블럭

## 자동 자원 반환 - try-with-resources문

## 사용자정의 예외 만들기

## 예외 되던지기(exception re-throwing)

## 연결된 예외(chained exception)

# 참고
